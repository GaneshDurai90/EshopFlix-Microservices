@model IEnumerable<eShopFlix.Web.Models.CouponModel>
@{
    var cartId = (long)ViewBag.CartId;
}
<div class="mb-3">
    <div class="input-group">
        <input id="couponCode" type="text" class="form-control" placeholder="Coupon code">
        <input id="couponAmount" type="number" step="0.01" class="form-control" placeholder="Amount (optional)">
        <button class="btn btn-primary" type="button" onclick="applyCoupon(@cartId)">Apply</button>
    </div>
</div>
@if (Model != null && Model.Any())
{
    <ul class="list-group">
        @foreach (var c in Model)
        {
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <span><strong>@c.Code</strong> - @c.Description</span>
                <span>
                    -?@c.DiscountAmount.ToString("##.#")
                    <button class="btn btn-link text-danger" onclick="removeCoupon(@cartId, '@c.Code')">remove</button>
                </span>
            </li>
        }
    </ul>
}
